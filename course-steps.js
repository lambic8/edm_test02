// EDMå­¦ç¿’ã‚³ãƒ¼ã‚¹ - ã‚¹ãƒ†ãƒƒãƒ—å®šç¾©ï¼ˆAviciié¢¨å¯¾å¿œç‰ˆï¼‰
window.EDMCourseSteps = {
    steps: [
        // Phase 1: Piano Foundation (ã‚¹ãƒ†ãƒƒãƒ— 1-4)
        {
            step: 1, section: "intro", mode: "sequencer",
            title: "ã‚¹ãƒ†ãƒƒãƒ— 1: ã‚¤ãƒ³ãƒˆãƒ­ - ç¾Žã—ã„ãƒ”ã‚¢ãƒŽã‚¢ãƒ«ãƒšã‚¸ã‚ª",
            description: "Aviciié¢¨ã®ç¾Žã—ã„ãƒ”ã‚¢ãƒŽã‚¢ãƒ«ãƒšã‚¸ã‚ªã‹ã‚‰æ¥½æ›²ã‚’é–‹å§‹ã—ã¾ã—ã‚‡ã†ã€‚1, 3, 5, 7, 9, 11, 13, 15æ‹ç›®ã«C4, E4, G4, C5, E5, C5, G4, E4ã‚’é…ç½®ã—ã¦ã€ã€ŒLevelsã€ã‚„ã€ŒWaiting for Loveã€ã®ã‚ˆã†ãªæ„Ÿå‹•çš„ãªã‚¤ãƒ³ãƒˆãƒ­ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚",
            tracks: ["piano"],
            validation: { type: "pattern", track: "piano", pattern: ["C4",0,"E4",0,"G4",0,"C5",0,"E5",0,"C5",0,"G4",0,"E4",0] }
        },
        {
            step: 2, section: "intro", mode: "sequencer", 
            title: "ã‚¹ãƒ†ãƒƒãƒ— 2: ã‚¤ãƒ³ãƒˆãƒ­ - ã‚¹ãƒˆãƒªãƒ³ã‚°ã‚¹ãƒãƒ¼ãƒ¢ãƒ‹ãƒ¼",
            description: "ãƒ”ã‚¢ãƒŽã‚¢ãƒ«ãƒšã‚¸ã‚ªã«æ·±ã¿ã‚’ä¸Žãˆã‚‹ã‚¹ãƒˆãƒªãƒ³ã‚°ã‚¹ã‚’è¿½åŠ ã—ã¾ã—ã‚‡ã†ã€‚1, 9æ‹ç›®ã«C3, G3ã®ãƒ­ãƒ³ã‚°ãƒˆãƒ¼ãƒ³ã‚’é…ç½®ã—ã¦ã€Aviciiç‰¹æœ‰ã®æ¸©ã‹ã„ãƒãƒ¼ãƒ¢ãƒ‹ãƒ¼ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚",
            tracks: ["piano", "strings"],
            validation: { type: "pattern", track: "strings", pattern: ["C3",0,0,0,0,0,0,0,"G3",0,0,0,0,0,0,0] }
        },
        {
            step: 3, section: "intro", mode: "sequencer",
            title: "ã‚¹ãƒ†ãƒƒãƒ— 3: ã‚¤ãƒ³ãƒˆãƒ­ - ãƒªã‚ºãƒ å°Žå…¥",
            description: "ã‚¢ã‚³ãƒ¼ã‚¹ãƒ†ã‚£ãƒƒã‚¯ã‹ã‚‰ã‚¨ãƒ¬ã‚¯ãƒˆãƒ­ãƒ‹ãƒƒã‚¯ã¸ã®å¤‰åŒ–ã‚’é–‹å§‹ã—ã¾ã™ã€‚1, 5, 9, 13æ‹ç›®ã«4ã¤æ‰“ã¡ã‚­ãƒƒã‚¯ã‚’è¿½åŠ ã—ã¦ã€æ¥½æ›²ã«ã‚°ãƒ«ãƒ¼ãƒ´ã‚’ä¸Žãˆã¦ãã ã•ã„ã€‚",
            tracks: ["piano", "strings", "kick"],
            validation: { type: "pattern", track: "kick", pattern: [1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0] }
        },
        {
            step: 4, section: "intro", mode: "sequencer",
            title: "ã‚¹ãƒ†ãƒƒãƒ— 4: ã‚¤ãƒ³ãƒˆãƒ­ - ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³",
            description: "1, 5, 9, 13æ‹ç›®ã«C2, F2, G2, C2ã®ãƒ™ãƒ¼ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¿½åŠ ã—ã¾ã—ã‚‡ã†ã€‚ã“ã®I-IV-V-Ié€²è¡ŒãŒAviciié¢¨ã®å®‰å®šæ„Ÿã¨æŽ¨é€²åŠ›ã‚’ç”Ÿã¿å‡ºã—ã¾ã™ã€‚",
            tracks: ["piano", "strings", "kick", "bass"],
            validation: { type: "pattern", track: "bass", pattern: ["C2",0,0,0,"F2",0,0,0,"G2",0,0,0,"C2",0,0,0] }
        },
        
        // Phase 2: Electronic Elements (ã‚¹ãƒ†ãƒƒãƒ— 5-8)
        {
            step: 5, section: "preBuildup", mode: "sequencer",
            title: "ã‚¹ãƒ†ãƒƒãƒ— 5: ãƒ—ãƒ¬ãƒ“ãƒ«ãƒ‰ã‚¢ãƒƒãƒ— - ãƒ—ãƒ©ãƒƒã‚¯ã‚·ãƒ³ã‚»å°Žå…¥",
            description: "ã‚¤ãƒ³ãƒˆãƒ­ã‹ã‚‰ç¶™æ‰¿ï¼šãƒ”ã‚¢ãƒŽã‚¢ãƒ«ãƒšã‚¸ã‚ªã€ã‚¹ãƒˆãƒªãƒ³ã‚°ã‚¹ãƒãƒ¼ãƒ¢ãƒ‹ãƒ¼ã€ã‚­ãƒƒã‚¯ã€ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ãŒã™ã¹ã¦ç¶­æŒã•ã‚Œã¾ã™ã€‚ã“ã“ã«Aviciiç‰¹æœ‰ã®ãƒ—ãƒ©ãƒƒã‚¯ã‚·ãƒ³ã‚»ã‚’è¿½åŠ ã—ã¾ã™ã€‚6, 8, 14, 16æ‹ç›®ã«G4ã‚’é…ç½®ã—ã¦ã€ã€ŒLevelsã€ã®ã‚ˆã†ãªã‚·ãƒ³ã‚³ãƒšãƒ¼ã‚·ãƒ§ãƒ³ã¨ã‚¢ã‚¯ã‚»ãƒ³ãƒˆã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚ã‚ªãƒ•ãƒ“ãƒ¼ãƒˆã®èºå‹•æ„ŸãŒæ¥½æ›²ã«ç”Ÿå‘½åŠ›ã‚’ä¸Žãˆã¾ã™ã€‚",
            tracks: ["piano", "strings", "kick", "bass", "pluck"],
            validation: { type: "pattern", track: "pluck", pattern: [0,0,0,0,0,"G4",0,"G4",0,0,0,0,0,"G4",0,"G4"] }
        },
        
        // Phase 3: Rhythm Development (ã‚¹ãƒ†ãƒƒãƒ— 6-8)
        {
            step: 6, section: "buildup", mode: "sequencer",
            title: "ã‚¹ãƒ†ãƒƒãƒ— 6: ãƒ“ãƒ«ãƒ‰ã‚¢ãƒƒãƒ— - ãƒªã‚ºãƒ ã‚»ã‚¯ã‚·ãƒ§ãƒ³å¼·åŒ–",
            description: "ãƒ—ãƒ¬ãƒ“ãƒ«ãƒ‰ã‚¢ãƒƒãƒ—ã‹ã‚‰ç¶™æ‰¿ï¼šãƒ”ã‚¢ãƒŽã€ã‚¹ãƒˆãƒªãƒ³ã‚°ã‚¹ã€ã‚­ãƒƒã‚¯ã€ãƒ™ãƒ¼ã‚¹ã€ãƒ—ãƒ©ãƒƒã‚¯ãŒã™ã¹ã¦ç¶­æŒã•ã‚Œã¾ã™ã€‚ã“ã“ã§ãƒªã‚ºãƒ ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å¼·åŒ–ã—ã¾ã™ã€‚5, 13æ‹ç›®ã«ã‚¹ãƒã‚¢ã¨ã€3, 7, 11, 15æ‹ç›®ã«ãƒã‚¤ãƒãƒƒãƒˆã‚’è¿½åŠ ã—ã¦ã€å®Œå…¨ãªEDMãƒªã‚ºãƒ ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ§‹ç¯‰ã—ã¾ã—ã‚‡ã†ã€‚",
            tracks: ["piano", "strings", "kick", "bass", "pluck", "snare", "hihat"],
            validation: { type: "multiple", patterns: [
                { track: "snare", pattern: [0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0] },
                { track: "hihat", pattern: [0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0] }
            ]}
        },
        {
            step: 7, section: "buildup", mode: "sequencer",
            title: "ã‚¹ãƒ†ãƒƒãƒ— 7: ãƒ“ãƒ«ãƒ‰ã‚¢ãƒƒãƒ— - ãƒ¡ãƒ­ãƒ‡ã‚£ãƒƒã‚¯ãƒªãƒ¼ãƒ‰",
            description: "æ„Ÿå‹•çš„ãªAviciié¢¨ãƒ¡ãƒ­ãƒ‡ã‚£ã‚’è¿½åŠ ã—ã¾ã™ã€‚1-16æ‹ç›®ã«é€£ç¶šã—ã¦E4, D4, E4, F4, G4, F4, E4, D4, C4, D4, E4, F4, E4, D4, C4ã‚’é…ç½®ã—ã€16æ‹ç›®ã¯ç©ºç™½ã«ã—ã¦å°è±¡çš„ãªãƒ¡ãƒ­ãƒ‡ã‚£ãƒ©ã‚¤ãƒ³ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚",
            tracks: ["piano", "strings", "kick", "bass", "pluck", "snare", "hihat", "melody"],
            validation: { type: "pattern", track: "melody", pattern: ["E4","D4","E4","F4","G4","F4","E4","D4","C4","D4","E4","F4","E4","D4","C4",0] }
        },
        {
            step: 8, section: "buildup", mode: "sequencer",
            title: "ã‚¹ãƒ†ãƒƒãƒ— 8: ãƒ“ãƒ«ãƒ‰ã‚¢ãƒƒãƒ— - ã‚¨ãƒãƒ«ã‚®ãƒ¼å®Œæˆ",
            description: "5, 13æ‹ç›®ã«ã‚¯ãƒ©ãƒƒãƒ—ã‚’è¿½åŠ ã—ã¦ã€ãƒ“ãƒ«ãƒ‰ã‚¢ãƒƒãƒ—ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚’æœ€å¤§åŒ–ã—ã¾ã—ã‚‡ã†ã€‚ã™ã¹ã¦ã®è¦ç´ ãŒèª¿å’Œã—ãŸAviciiã‚µã‚¦ãƒ³ãƒ‰ã®å®Œæˆã§ã™ã€‚",
            tracks: ["piano", "strings", "kick", "bass", "pluck", "snare", "hihat", "melody", "clap"],
            validation: { type: "pattern", track: "clap", pattern: [0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0] }
        },
        
        // Phase 4: Build to Drop (ã‚¹ãƒ†ãƒƒãƒ— 9-10)
        {
            step: 9, section: "buildup", mode: "sequencer",
            title: "ã‚¹ãƒ†ãƒƒãƒ— 9: ãƒ“ãƒ«ãƒ‰ã‚¢ãƒƒãƒ— - ã‚¢ãƒƒãƒ—ãƒªãƒ•ã‚¿ãƒ¼è¿½åŠ ",
            description: "13, 15æ‹ç›®ã«ã‚¢ãƒƒãƒ—ãƒªãƒ•ã‚¿ãƒ¼ã‚’è¿½åŠ ã—ã¦ã€ãƒ‰ãƒ­ãƒƒãƒ—ã¸ã®æœŸå¾…æ„Ÿã‚’æ§‹ç¯‰ã—ã¾ã—ã‚‡ã†ã€‚Aviciiã®æ¥½æ›²ã§ã¯æ®µéšŽçš„ãªæ„Ÿæƒ…æ§‹ç¯‰ãŒé‡è¦ãªè¦ç´ ã§ã™ã€‚",
            tracks: ["piano", "strings", "kick", "bass", "pluck", "snare", "hihat", "melody", "clap", "uplifter"],
            validation: { type: "pattern", track: "uplifter", pattern: [0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0] }
        },
        
        // Phase 4: Pre-Drop (ã‚¹ãƒ†ãƒƒãƒ— 10)
        {
            step: 10, section: "preDrop", mode: "sequencer",
            title: "ã‚¹ãƒ†ãƒƒãƒ— 10: ãƒ—ãƒ¬ãƒ‰ãƒ­ãƒƒãƒ— - æœ€çµ‚ãƒ†ãƒ³ã‚·ãƒ§ãƒ³",
            description: "ãƒ“ãƒ«ãƒ‰ã‚¢ãƒƒãƒ—ã‹ã‚‰ç¶™æ‰¿ï¼šã‚­ãƒƒã‚¯ã€ã‚¹ãƒã‚¢ã€ãƒã‚¤ãƒãƒƒãƒˆã€ã‚¯ãƒ©ãƒƒãƒ—ã€ãƒ™ãƒ¼ã‚¹ã€ãƒ—ãƒ©ãƒƒã‚¯ãŒç¶­æŒã•ã‚Œã¾ã™ã€‚æ³¨æ„ï¼šãƒ”ã‚¢ãƒŽã€ã‚¹ãƒˆãƒªãƒ³ã‚°ã‚¹ã€ãƒ¡ãƒ­ãƒ‡ã‚£ã¯é™¤åŽ»ã•ã‚Œã€æ¬¡ã®ãƒ‰ãƒ­ãƒƒãƒ—ã§ã®çˆ†ç™ºçš„åŠ¹æžœã‚’æ¼”å‡ºã—ã¾ã™ã€‚14, 15, 16æ‹ç›®ã«ãƒ©ã‚¤ã‚¶ãƒ¼ã‚’è¿½åŠ ã—ã¦ã€ãƒ‰ãƒ­ãƒƒãƒ—ã¸ã®æœ€çµ‚çš„ãªæœŸå¾…æ„Ÿã‚’æœ€é«˜æ½®ã«é«˜ã‚ã¾ã—ã‚‡ã†ã€‚ã“ã®çž¬é–“ã®ç·Šå¼µæ„ŸãŒæ¬¡ã®çˆ†ç™ºçš„ãªãƒ‰ãƒ­ãƒƒãƒ—ã‚’éš›ç«‹ãŸã›ã¾ã™ã€‚",
            tracks: ["kick", "snare", "hihat", "clap", "bass", "pluck", "riser"],
            validation: { type: "pattern", track: "riser", pattern: [0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1] }
        },
        
        // Phase 5: Euphoric Drop (ã‚¹ãƒ†ãƒƒãƒ— 11-13)
        {
            step: 11, section: "drop", mode: "sequencer",
            title: "ã‚¹ãƒ†ãƒƒãƒ— 11: ãƒ‰ãƒ­ãƒƒãƒ— - æ„Ÿå‹•çš„ãƒ”ã‚¢ãƒŽãƒ‰ãƒ­ãƒƒãƒ—",
            description: "ãƒ—ãƒ¬ãƒ‰ãƒ­ãƒƒãƒ—ã‹ã‚‰ç¶™æ‰¿ï¼šã‚­ãƒƒã‚¯ã€ã‚¹ãƒã‚¢ã€ãƒã‚¤ãƒãƒƒãƒˆã€ã‚¯ãƒ©ãƒƒãƒ—ã€ãƒ™ãƒ¼ã‚¹ã€ãƒ—ãƒ©ãƒƒã‚¯ã®ãƒªã‚ºãƒ åŸºç›¤ãŒç¶­æŒã•ã‚Œã¾ã™ã€‚ã“ã“ã«Aviciié¢¨ã®æ„Ÿå‹•çš„ãªãƒ”ã‚¢ãƒŽãŒå¾©æ´»ã—ã¾ã™ï¼1-16æ‹ç›®ã«é€£ç¶šã—ã¦C4, E4, G4, C5, E5, C5, G4, E4, F4, A4, C5, F5, C5, A4, F4ã‚’é…ç½®ã—ã€16æ‹ç›®ã¯ç©ºç™½ã«ã—ã¦å£®å¤§ãªã‚¯ãƒ©ã‚¤ãƒžãƒƒã‚¯ã‚¹ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚",
            tracks: ["kick", "snare", "hihat", "clap", "bass", "pluck", "piano"],
            validation: { type: "pattern", track: "piano", pattern: ["C4","E4","G4","C5","E5","C5","G4","E4","F4","A4","C5","F5","C5","A4","F4",0] }
        },
        {
            step: 12, section: "drop", mode: "sequencer",
            title: "ã‚¹ãƒ†ãƒƒãƒ— 12: ãƒ‰ãƒ­ãƒƒãƒ— - ãƒãƒ¼ãƒ¢ãƒ‹ãƒ¼æ§‹ç¯‰",
            description: "1, 5, 9, 13æ‹ç›®ã«C4, F4, G4, C5ã®ã‚³ãƒ¼ãƒ‰é€²è¡Œã‚’è¿½åŠ ã—ã¦ã€è±Šã‹ãªãƒãƒ¼ãƒ¢ãƒ‹ãƒ¼ã‚’æ§‹ç¯‰ã—ã¾ã—ã‚‡ã†ã€‚I-IV-V-Ié€²è¡Œã§Aviciiç‰¹æœ‰ã®æ„Ÿå‹•çš„ãªéŸ¿ãã‚’å®Ÿç¾ã—ã¾ã™ã€‚",
            tracks: ["kick", "snare", "hihat", "clap", "bass", "pluck", "piano", "chord"],
            validation: { type: "pattern", track: "chord", pattern: ["C4",0,0,0,"F4",0,0,0,"G4",0,0,0,"C5",0,0,0] }
        },
        {
            step: 13, section: "drop", mode: "sequencer",
            title: "ã‚¹ãƒ†ãƒƒãƒ— 13: ãƒ‰ãƒ­ãƒƒãƒ— - ãƒ—ãƒ©ãƒƒã‚¯å¼·åŒ–",
            description: "2, 4, 6, 8, 10, 12, 14, 16æ‹ç›®ï¼ˆå…¨ã¦ã®å¶æ•°æ‹ï¼‰ã«G4ã®ãƒ—ãƒ©ãƒƒã‚¯ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¿½åŠ ã—ã¦ã€ã€ŒLevelsã€ã®ã‚ˆã†ãªä¸­æ¯’æ€§ã®ã‚ã‚‹ãƒªã‚ºãƒ ã‚’å®Œæˆã•ã›ã¾ã—ã‚‡ã†ã€‚é€£ç¶šã™ã‚‹G4ãŒæ¥½æ›²ã«å¼·çƒˆãªã‚°ãƒ«ãƒ¼ãƒ´ã‚’ä¸Žãˆã¾ã™ã€‚",
            tracks: ["kick", "snare", "hihat", "clap", "bass", "pluck", "piano", "chord"],
            validation: { type: "pattern", track: "pluck", pattern: [0,"G4",0,"G4",0,"G4",0,"G4",0,"G4",0,"G4",0,"G4",0,"G4"] }
        },
        
        // Phase 6: Transition (ã‚¹ãƒ†ãƒƒãƒ— 14)
        {
            step: 14, section: "preBreakdown", mode: "sequencer",
            title: "ã‚¹ãƒ†ãƒƒãƒ— 14: ãƒ—ãƒ¬ãƒ–ãƒ¬ã‚¤ã‚¯ãƒ€ã‚¦ãƒ³ - æ„Ÿæƒ…çš„ç§»è¡Œ",
            description: "ãƒ‰ãƒ­ãƒƒãƒ—ã‹ã‚‰ç¶™æ‰¿ï¼šãƒ”ã‚¢ãƒŽã€ãƒ¡ãƒ­ãƒ‡ã‚£ã€ã‚¹ãƒˆãƒªãƒ³ã‚°ã‚¹ã®ç¾Žã—ã„è¦ç´ ã®ã¿ãŒç¶­æŒã•ã‚Œã¾ã™ã€‚æ³¨æ„ï¼šã™ã¹ã¦ã®ãƒ‰ãƒ©ãƒ ç³»æ¥½å™¨ï¼ˆã‚­ãƒƒã‚¯ã€ã‚¹ãƒã‚¢ã€ãƒã‚¤ãƒãƒƒãƒˆã€ã‚¯ãƒ©ãƒƒãƒ—ï¼‰ã€ãƒ™ãƒ¼ã‚¹ã€ãƒ—ãƒ©ãƒƒã‚¯ã€ã‚³ãƒ¼ãƒ‰ã¯é™¤åŽ»ã•ã‚Œã€é™å¯‚ã¸ã®ç§»è¡ŒãŒå§‹ã¾ã‚Šã¾ã™ã€‚13, 14, 15, 16æ‹ç›®ã«ã‚¹ã‚¤ãƒ¼ãƒ—ã‚’è¿½åŠ ã—ã¦ã€æ„Ÿå‹•çš„ãªãƒ–ãƒ¬ã‚¤ã‚¯ãƒ€ã‚¦ãƒ³ã¸ã®ç§»è¡Œã‚’æº–å‚™ã—ã¾ã—ã‚‡ã†ã€‚Aviciiã®æ¥½æ›²ã§ã¯ã€ã‚¨ãƒãƒ«ã‚®ãƒ¼ã®å¾Œã«å¿…ãšç¾Žã—ã„çž¬é–“ãŒè¨ªã‚Œã¾ã™ã€‚",
            tracks: ["piano", "melody", "strings", "sweep"],
            validation: { type: "pattern", track: "sweep", pattern: [0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1] }
        },
        
        // Phase 7: Emotional Breakdown (ã‚¹ãƒ†ãƒƒãƒ— 15-16)
        {
            step: 15, section: "breakdown", mode: "sequencer",
            title: "ã‚¹ãƒ†ãƒƒãƒ— 15: ãƒ–ãƒ¬ã‚¤ã‚¯ãƒ€ã‚¦ãƒ³ - ç¾Žã—ã„ãƒãƒ¼ãƒ¢ãƒ‹ãƒ¼",
            description: "ãƒ—ãƒ¬ãƒ–ãƒ¬ã‚¤ã‚¯ãƒ€ã‚¦ãƒ³ã‹ã‚‰ç¶™æ‰¿ï¼šãƒ”ã‚¢ãƒŽã¨ã‚¹ãƒˆãƒªãƒ³ã‚°ã‚¹ã®ã¿ãŒç¶­æŒã•ã‚Œã¾ã™ã€‚æ³¨æ„ï¼šãƒ¡ãƒ­ãƒ‡ã‚£ã¨ã‚¹ã‚¤ãƒ¼ãƒ—ã¯é™¤åŽ»ã•ã‚Œã€ç´”ç²‹ãªç¾Žã—ã•ãŒéš›ç«‹ã¡ã¾ã™ã€‚1, 4, 7, 10æ‹ç›®ã«D4, F4, A4, D5ã®ãƒ”ã‚¢ãƒŽãƒ¡ãƒ­ãƒ‡ã‚£ã‚’é…ç½®ã—ã€1, 9æ‹ç›®ã«F3, A3ã®ã‚¹ãƒˆãƒªãƒ³ã‚°ã‚¹ã‚’é…ç½®ã—ã¦ã€æ„Ÿå‹•çš„ãªãƒ–ãƒ¬ã‚¤ã‚¯ãƒ€ã‚¦ãƒ³ã‚’ä½œæˆã—ã¾ã—ã‚‡ã†ã€‚é™å¯‚ã®ä¸­ã®ç¾Žã—ã•ã‚’è¡¨ç¾ã—ã¦ãã ã•ã„ã€‚",
            tracks: ["piano", "strings"],
            validation: { type: "multiple", patterns: [
                { track: "piano", pattern: ["D4",0,0,"F4",0,0,"A4",0,0,"D5",0,0,0,0,0,0] },
                { track: "strings", pattern: ["F3",0,0,0,0,0,0,0,"A3",0,0,0,0,0,0,0] }
            ]}
        },
        {
            step: 16, section: "breakdown", mode: "sequencer",
            title: "ã‚¹ãƒ†ãƒƒãƒ— 16: ãƒ–ãƒ¬ã‚¤ã‚¯ãƒ€ã‚¦ãƒ³ - æ„Ÿæƒ…ã®æ·±åŒ–",
            description: "ãƒ”ã‚¢ãƒŽã¨ã‚¹ãƒˆãƒªãƒ³ã‚°ã‚¹ã®ãƒãƒ¼ãƒ¢ãƒ‹ãƒ¼ã‚’èª¿æ•´ã—ã¦ã€ã‚ˆã‚Šæ·±ã„æ„Ÿæƒ…è¡¨ç¾ã‚’ä½œã‚Šå‡ºã—ã¾ã—ã‚‡ã†ã€‚Aviciiã®ã€ŒWake Me Upã€ã®ã‚ˆã†ãªç¾Žã—ã„çž¬é–“ã‚’ä½“é¨“ã—ã¦ãã ã•ã„ã€‚",
            tracks: ["piano", "strings"],
            validation: { type: "pattern", track: "strings", pattern: ["F3",0,0,0,0,0,0,0,"A3",0,0,0,0,0,0,0] }
        },
        
        // Phase 8: Resolution Preparation (ã‚¹ãƒ†ãƒƒãƒ— 17)
        {
            step: 17, section: "preOutro", mode: "sequencer",
            title: "ã‚¹ãƒ†ãƒƒãƒ— 17: ãƒ—ãƒ¬ã‚¢ã‚¦ãƒˆãƒ­ - è¦ç´ å‰Šæ¸›",
            description: "ãƒ–ãƒ¬ã‚¤ã‚¯ãƒ€ã‚¦ãƒ³ã‹ã‚‰ç¶™æ‰¿ï¼šãƒ”ã‚¢ãƒŽã®ã¿ãŒç¶­æŒã•ã‚Œã¾ã™ã€‚æ³¨æ„ï¼šã‚¹ãƒˆãƒªãƒ³ã‚°ã‚¹ã¯é™¤åŽ»ã•ã‚Œã€ã‚·ãƒ³ãƒ—ãƒ«ãªç¾Žå­¦ã¸ã®ç§»è¡ŒãŒå§‹ã¾ã‚Šã¾ã™ã€‚æ¥½æ›²ã®çµ‚çµã«å‘ã‘ã¦è¦ç´ ã‚’ã‚·ãƒ³ãƒ—ãƒ«åŒ–ã—ã¾ã™ã€‚1, 5æ‹ç›®ã«ã®ã¿C4, G4ã®ãƒ”ã‚¢ãƒŽã‚’é…ç½®ã—ã¦ã€ç´”ç²‹ãªç¾Žã—ã•ã‚’è¡¨ç¾ã—ã¾ã—ã‚‡ã†ã€‚æ®‹ã‚Šã®æ‹ã¯ç©ºç™½ã«ã—ã¦é™å¯‚ã®ç¾Žå­¦ã‚’æ„Ÿã˜ã¦ãã ã•ã„ã€‚",
            tracks: ["piano"],
            validation: { type: "pattern", track: "piano", pattern: ["C4",0,0,0,"G4",0,0,0,0,0,0,0,0,0,0,0] }
        },
        
        // Phase 9: Beautiful Outro (ã‚¹ãƒ†ãƒƒãƒ— 18-19)
        {
            step: 18, section: "outro", mode: "sequencer",
            title: "ã‚¹ãƒ†ãƒƒãƒ— 18: ã‚¢ã‚¦ãƒˆãƒ­ - ãƒ”ã‚¢ãƒŽã‚½ãƒ­",
            description: "ãƒ—ãƒ¬ã‚¢ã‚¦ãƒˆãƒ­ã‹ã‚‰ç¶™æ‰¿ï¼šç¾Žã—ã„ãƒ”ã‚¢ãƒŽã‚½ãƒ­ãŒç¶­æŒã•ã‚Œã¾ã™ã€‚æ¥½æ›²ã®æ ¸å¿ƒçš„è¦ç´ ã®ã¿ãŒæ®‹ã‚Šã€æ„Ÿå‹•çš„ãªçµ‚çµã‚’è¿Žãˆã¾ã™ã€‚1, 5æ‹ç›®ã«ã®ã¿C4, G4ã‚’é…ç½®ã—ã€æ®‹ã‚Šã®æ‹ã¯ç©ºç™½ã«ã—ã¦ã€Aviciiç‰¹æœ‰ã®ã‚·ãƒ³ãƒ—ãƒ«ã§å¿ƒã«æ®‹ã‚‹çµ‚çµã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚",
            tracks: ["piano"],
            validation: { type: "pattern", track: "piano", pattern: ["C4",0,0,0,"G4",0,0,0,0,0,0,0,0,0,0,0] }
        },
        {
            step: 19, section: "outro", mode: "sequencer",
            title: "ã‚¹ãƒ†ãƒƒãƒ— 19: ã‚¢ã‚¦ãƒˆãƒ­ - æ„Ÿå‹•çš„ä½™éŸ»",
            description: "åŒã˜ãƒ”ã‚¢ãƒŽãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç¶™ç¶šã—ã¦ã€æ¥½æ›²ã«ç¾Žã—ã„ä½™éŸ»ã‚’æ®‹ã—ã¾ã—ã‚‡ã†ã€‚1, 5æ‹ç›®ã«C4, G4ã‚’é…ç½®ã—ã€æ®‹ã‚Šã®æ‹ã¯ç©ºç™½ã«ã—ã¦ã€Aviciiã®æ¥½æ›²ã®ã‚ˆã†ã«çµ‚ã‚ã£ãŸå¾Œã‚‚å¿ƒã«æ®‹ã‚‹æ„Ÿå‹•ã‚’æ¼”å‡ºã—ã¦ãã ã•ã„ã€‚",
            tracks: ["piano"],
            validation: { type: "pattern", track: "piano", pattern: ["C4",0,0,0,"G4",0,0,0,0,0,0,0,0,0,0,0] }
        },
        
        // Phase 10: Completion (ã‚¹ãƒ†ãƒƒãƒ— 20)
        {
            step: 20, section: "complete", mode: "preview",
            title: "ã‚¹ãƒ†ãƒƒãƒ— 20: æ¥½æ›²å®Œæˆ - Aviciié¢¨æ„Ÿå‹•çš„ãªæ—…è·¯",
            description: "ðŸŽ‰ ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼ç¾Žã—ã„ãƒ”ã‚¢ãƒŽã‚¢ãƒ«ãƒšã‚¸ã‚ªã‹ã‚‰å§‹ã¾ã‚Šã€æ„Ÿå‹•çš„ãªãƒ‰ãƒ­ãƒƒãƒ—ã‚’çµŒã¦ã€å¿ƒã«æ®‹ã‚‹ç¾Žã—ã•ã§çµ‚ã‚ã‚‹Aviciié¢¨æ¥½æ›²ãŒå®Œæˆã—ã¾ã—ãŸã€‚ã€ŒLevelsã€ã€ŒWake Me Upã€ã€ŒWaiting for Loveã€ã¨åŒã˜DNAã‚’æŒã¤ã€ä¸–ç•Œä¸­ã§æ„›ã•ã‚Œã‚‹éŸ³æ¥½ã‚’ä½œã‚Šä¸Šã’ã¾ã—ãŸï¼",
            tracks: ["kick", "snare", "hihat", "clap", "bass", "melody", "chord", "piano", "pluck", "strings", "uplifter", "riser", "sweep"],
            isComplete: true
        }
    ]
};

// ã‚³ãƒ¼ã‚¹æ‹¡å¼µç”¨ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°
window.EDMCourseSteps.addStep = function(stepData) {
    this.steps.push(stepData);
    return this.steps.length;
};

window.EDMCourseSteps.insertStep = function(position, stepData) {
    this.steps.splice(position, 0, stepData);
    // ã‚¹ãƒ†ãƒƒãƒ—ç•ªå·ã‚’å†è¨ˆç®—
    this.steps.forEach((step, index) => {
        step.step = index + 1;
    });
    return this.steps.length;
};

window.EDMCourseSteps.removeStep = function(stepNumber) {
    const index = stepNumber - 1;
    if (index >= 0 && index < this.steps.length) {
        this.steps.splice(index, 1);
        // ã‚¹ãƒ†ãƒƒãƒ—ç•ªå·ã‚’å†è¨ˆç®—
        this.steps.forEach((step, index) => {
            step.step = index + 1;
        });
    }
    return this.steps.length;
};

window.EDMCourseSteps.getStepsForSection = function(sectionKey) {
    return this.steps.filter(step => step.section === sectionKey);
};

window.EDMCourseSteps.getTotalSteps = function() {
    return this.steps.length;
};